#
# Executes commands at the start of an interactive session.
#
# Original Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#
# Changes By:
#   Eli Polonsky <eli.polonsky@gmail.com>

# tell virtualenvwrapper where to put virtual environments
export WORKON_HOME=$HOME/dev/virtualenvs

# source Prezto.
source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"

# source env
for line in $(cat ${HOME}/.env); do
    export $line
    key=$(cut -d'=' -f1 <<<${line})
    value=$(cut -d'=' -f2 <<<${line})

    # on MacOS GUI applications inherit env from launchctl and not the shell
    # specifically this was created so that IntelliJ will have all the environment variables my shell has
    launchctl setenv ${key} ${value}

done

# show tasks
task
